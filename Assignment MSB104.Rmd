---
title: "Econometriscs assignment"
author: "Heidi Marie Rolfsnes and Ann Elisabeth Jacobsen"
output:
  word_document: default
  html_document: default
  pdf_document: default
---

```{r Packages}
suppressMessages(library(tidyverse))
suppressMessages(library(lubridate))
suppressMessages(library(tibble))
suppressMessages(library(readr))
suppressMessages(library(knitr))
suppressMessages(library(dplyr))
suppressMessages(library(DescTools))
options(scipen = 999)
```

This is a collection of assignments in the subject econometrics MSB104.

In this assignment we are looking at five European countries. Denmark, France, Hungary, Portugal and Slovakia. 
In the first assignment we have collected data from Eurostats, the data contains GDP and populations for the countries but also at NUTS3 level for the last 20 years. 

We collected 2 datasets, and the first thing we did was to clean the list and remove data that didnâ€™t have any valuables. We changed the names on some of the variables. 
After that we merged the two datasets into one.


```{r GDP from Portugal, France, Hungary, Slovakia and Denmark}
BNP<- read.csv("nama_10r_3gdp.csv")
BNP <- BNP %>% 
  select(unit, geo, TIME_PERIOD, OBS_VALUE) %>%
      rename(GDP = "OBS_VALUE",Year = "TIME_PERIOD", Regio_id = "geo") 
```

```{r  Population from Portugal, France, Hungary, Slovakia and Denmark}
Pop<- read_csv("demo_r_pjanaggr3.csv", show_col_types = FALSE)
Pop <- Pop %>% 
  select(geo, TIME_PERIOD, OBS_VALUE) %>%
      rename(Population = "OBS_VALUE",Year_pop = "TIME_PERIOD") 
 
  
```

```{r GNP and Population - together}
 BNP2<- BNP %>%
      select(unit, Regio_id,Year, GDP) %>%
      left_join(Pop, by = c("Year" = "Year_pop", "Regio_id" = "geo"))
     
```


Then we calculated the GDP pr capita. And this we did by dividing the GDP on the population. 

```{r Calculate GDP per capita}
BNP2 <- BNP2 %>%
mutate(Per_capita =   GDP/Population*1000000) %>%
na.omit()
#NA variables are removed
```

We have divided the countries into NUTS3 levels. To get the best possible results, the countries are in their own chunk.

```{r Denmark}
DK <- group_by(BNP2, Regio_id, Year) %>%
filter(Regio_id %in% c("DK011", "DK012", "DK013", "DK014", "DK021", "DK022", "DK031", "DK032", "DK041", "DK042", "DK050", "DKZZZ")) %>%
	 select("Year", "Regio_id", "Per_capita")
	pivot_wider(DK,names_from = "Year", values_from = "Per_capita" )
	summarise(DK, GDP_per_Capita = mean(Per_capita))

```


```{r}
summary(DK)
```


```{r France}
FR <- group_by(BNP2, Regio_id, Year) %>%
filter(Regio_id %in% c("FR101", "FR102", "FR103", "FR104", "FR105", "FR106", "FR107", "FR108", "FRB01", "FRB02", "FRB03", "FRB04", "FRB05", "FRB06" , "FRC11", "FRC12","FRC13", "FRC14", "FRC21", "FRC22, FRC23", "FRC24", "FRD11", "FRD12","FRD13", "FRD21", "FRD22, FRE11", "FRE12", "FRE21", "FRE22", "FRE23","FRF11", "FRF12", "FRF21", "FRF22, FRF23", "FRF24", "FRF31", "FRF32", "FRF33","FRF34", "FRG01", "FRG02", "FRG03, FRG04", "FRG05", "FRH01", "FRH02", "FRF03, FRH04", "FRI11", "FRI12", "FRI13", "FRI14, FRI15", "FRI21", "FRI22", "FRI23, FRI31", "FRI32", "FRI33", "FRI34","FRJ11", "FRJ12",	"FRJ13",	"FRJ14",	"FRJ15",	"FRJ21",	"FRJ22",	"FRJ23",	"FRJ24",	"FRJ25",	"FRJ26",	"FRJ27"	,"FRJ28",	"FRK11",	"FRK12",	"FRK13",	"FRK14",	"FRK21",	"FRK22",	"FRK23",	"FRK24",	"FRK25",	"FRK26",	"FRK27",	"FRK28",	"FRL01",	"FRL02",	"FRL03",	"FRL04",	"FRL05",	"FRL06",	"FRM01",	"FRM02","FRXXX",	"FRY10",	"FRY20",	"FRY30",	"FRY40",	"FRY50")) %>%
 select("Year", "Regio_id", "Per_capita")
	pivot_wider(FR,names_from = "Year", values_from = "Per_capita" )
	summarise(FR, GDP_per_Capita = mean(Per_capita))
```

```{r}
summary(FR)
```


```{r Hungary}
HU <- group_by(BNP2, Regio_id, Year) %>%
filter(Regio_id %in% c("HU110", "HU120","HU211","HU212", "HU213", "HU221", "HU222","HU223","HU231", "HU232", "HU233", "HU311", "HU312", "HU313", "HU321", "HU322", "HU323", "HU331", "HU332", "HU333", "HUXXX")) %>%
 select("Year", "Regio_id", "Per_capita")
	pivot_wider(HU,names_from = "Year", values_from = "Per_capita" )
	summarise(HU, GDP_per_Capita = mean(Per_capita))
```

```{r}
summary(HU)
```


```{r Slovakia}
SK <- group_by(BNP2, Regio_id, Year) %>%
filter(Regio_id %in% c("SK010", "SK021","SK022","SK023", "SK031", "SK032", "SK041", "SK042")) %>%
 select("Year", "Regio_id", "Per_capita")
	pivot_wider(SK,names_from = "Year", values_from = "Per_capita" )
	summarise(SK, GDP_per_Capita = mean(Per_capita))
```

```{r}
summary(SK)
```


```{r Portugal}
PT <- group_by(BNP2, Regio_id, Year) %>%
filter(Regio_id %in% c("PT111","PT112","PT119","PT11A","PT11B","PT11C", "PT11D","PT11E",	"PT16B",	"PT16D",	"PT16E",	"PT16F",	"PT16G",	"PT16H",	"PT16I",	"PT16J",	"PT170",	"PT181",	"PT184",	"PT185",	"PT186",	"PT187",	"PT200",	"PT300")) %>%
 select("Year", "Regio_id", "Per_capita")
	pivot_wider(PT,names_from = "Year", values_from = "Per_capita" )
	summarise(PT, GDP_per_Capita = mean(Per_capita))
```

<<<<<<< HEAD
```{r}
=======
```{r - Portugal samendrag}
>>>>>>> bf94a12f5771af2c28cb79867c542ae616ea288c
summary(PT)
```



Gini: (fortsettelse)

```{r
ineq(DK, type = "Gini")
```

```{r
BNP3 <- BNP2 %>%  
  mutate(id_nuts2 = substr(Regio_id,1,4))
```


```{r
BNP4 <-BNP2 %>%  
  mutate(temp_var = nchar(BNP2$Regio_id))
```

